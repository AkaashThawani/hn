import{a as R,b as k,c as O,d as A,e as z,f as U,g as $,h as G,n as x,o as J}from"./chunk-U3JTCPMN.js";import{a as j,b as Q,h as H,k as N,l as q}from"./chunk-4IIXPB34.js";import{a as K}from"./chunk-OEEYWN56.js";import{Ca as D,H as _,Ja as C,Ka as w,Ma as E,W as y,Wa as P,Xa as T,_ as a,aa as f,ea as g,ec as B,fc as V,ga as s,gb as b,ha as o,ia as r,ib as F,ic as W,ja as c,jb as L,pa as M,qa as v,ta as S,ua as h,xa as d,ya as I,za as m}from"./chunk-PDSTOEGJ.js";function Y(l,i){if(l&1&&(o(0,"div")(1,"span",12),d(2),d(3),r(),o(4,"a",13),d(5),r()()),l&2){let t=v(),n=t.$implicit,e=t.index,p=v();a(2),m("",n.index,". "),a(1),m(" ",p.paginated[e]==null?null:p.paginated[e].title," "),a(1),S("href",p.paginated[e]==null?null:p.paginated[e].url,y),a(1),I(p.paginated[e]==null?null:p.paginated[e].url)}}function Z(l,i){l&1&&(o(0,"div"),c(1,"div",14),o(2,"div"),c(3,"div",14)(4,"div",14),r(),o(5,"div"),c(6,"div",14),r()())}function tt(l,i){l&1&&c(0,"mat-divider")}function et(l,i){if(l&1&&(o(0,"mat-accordion")(1,"mat-expansion-panel",3)(2,"div",4)(3,"div",5),d(4),r(),o(5,"div",6),g(6,Y,6,4,"div",7),o(7,"div")(8,"div",8)(9,"button",9),d(10),r(),o(11,"a"),d(12),r()()()(),o(13,"div",10)(14,"div",11)(15,"div")(16,"mat-icon"),d(17,"mode_comment"),r()(),o(18,"div"),d(19),r()()()(),g(20,Z,7,0,"div",7),r(),g(21,tt,1,0,"mat-divider",7),r()),l&2){let t=i.index,n=i.last,e=v();a(4),m(" ",e.paginated[t]==null?null:e.paginated[t].score," "),a(2),s("ngIf",e.paginated[t]==null?null:e.paginated[t].title),a(3),h("routerLink","/user/",e.paginated[t]==null?null:e.paginated[t].by,""),a(1),m(" ",e.paginated[t]==null?null:e.paginated[t].by.trim()," "),a(2),m(" ",e.getTime(e.paginated[t]==null?null:e.paginated[t].time)," "),a(2),h("routerLink","/story/",e.paginated[t]==null?null:e.paginated[t].id,""),a(5),m("",e.paginated[t]==null?null:e.paginated[t].descendants," "),a(1),s("ngIf",!(e.paginated[t]!=null&&e.paginated[t].title)),a(1),s("ngIf",!n)}}var u=class{constructor(i,t,n){this.apiService=i,this.activatedRoute=t,this.router=n,this.topStories=[],this.paginatedData=[],this.paginated=[],this.viewMode="",this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){this.activatedRoute.params.subscribe(i=>{console.log(i),this.viewMode=i.id}),this.getAPI(this.viewMode),console.log("act",this.activatedRoute)}onPageChange(i){this.paginatedData=this.topStories.slice(i.pageIndex*20,(i.pageIndex+1)*20),this.paginated=[],this.getStoryData()}getAPI(i){this.apiService.modeType(i).subscribe(t=>{t=t.map((n,e)=>({id:n,index:e+1})),this.topStories=t,this.paginatedData=this.topStories.slice(0,20),this.getStoryData()})}getStoriesByIDs(i){this.apiService.getStoryById(i).subscribe(t=>{this.paginated.push(t)})}getStoryData(){this.paginatedData.forEach(i=>{this.getStoriesByIDs(i.id)})}getTime(i){var t=new Date().getTime(),n=new Date(i*1e3).getTime();return t-n<=36e5?new Date(t-n).getUTCMinutes()+" minutes":new Date(t-n).getUTCHours()+" hours"}},X=u;(()=>{u.\u0275fac=function(t){return new(t||u)(f(W),f(b),f(F))}})(),(()=>{u.\u0275cmp=_({type:u,selectors:[["app-multi-mode-view"]],viewQuery:function(t,n){if(t&1&&w(x,5),t&2){let e;C(e=E())&&(n.paginator=e.first)}},standalone:!0,features:[D],decls:4,vars:3,consts:[["fxLayout","column nowrap","fxLayoutAlign","start stretch",1,"page"],[4,"ngFor","ngForOf"],["paginator","","showFirstLastButtons","true","aria-label","Select page",3,"length","pageSize","page"],["hideToggle","","expanded","true"],[1,"row-center"],["fxFlex","15",1,"m-20"],["fxFlex","70",1,"story"],[4,"ngIf"],[1,"story-info"],["mat-flat-button","",3,"routerLink"],["fxFlex","15",1,"m-20c","cursor-pointer"],[3,"routerLink"],[1,"story-title"],["target","_blank",1,"story-url",3,"href"],[1,"skeleton","skeleton-text"]],template:function(t,n){t&1&&(c(0,"app-heading"),o(1,"mat-card",0),g(2,et,22,9,"mat-accordion",1),o(3,"mat-paginator",2),M("page",function(p){return n.onPageChange(p)}),r()()),t&2&&(a(2),s("ngForOf",n.paginatedData),a(1),s("length",n.topStories.length)("pageSize",20))},dependencies:[P,T,U,z,L,V,B,q,N,H,Q,j,K,G,$,J,x,A,R,O,k],styles:[".row-center[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.m-20[_ngcontent-%COMP%]{text-align:center;color:orange}.m-20c[_ngcontent-%COMP%]{text-align:center;color:orange;display:flex;flex-direction:column;align-items:center;justify-content:center}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0!important}button[_ngcontent-%COMP%]{padding:0!important}"]})})();export{X as MultiModeViewComponent};
